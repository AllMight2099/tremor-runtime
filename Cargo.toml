[package]
name = "tremor-runtime"
version = "0.3.7"
description = "Tremor Runtime"
authors = ["Heinz Gies <hgies@wayfair.com>", "Darach Ennis <dennis@wayfair.com>", "Colin Clark <colclark@wayfair.com>", "Cyndy Pooley <cpooley@wayfair.com>", "Ivan Monov <imonov@wayfair.com>", "Gordon Guthrie <gguthrie@wayfair.com>"]
edition = "2018"

[workspace]

members = [
    "mimir",
    "window",
    "property_testing"
]

[profile.release]
lto = true

[dependencies]
actix = "0.7"
actix-web = { version = "0.7", features = ["alpn"] }
base64 = "0.9"
bytes = "0.4"
chrono = "0.4"
clap = "2.23"
dot = "0.1.4"
elastic = "0.20"
env_logger = "0.5"
error-chain="0.12"
futures = "0.1"
hostname = "0.1"
lazy_static = "0.2"
libc = "0.2.43"
log = "0.4"
maplit = "1.0"
openssl = { version="0.10" }
prometheus = { version = "0.4", features = ["process"] }
rand = "0.5"
reqwest = "0.8"
serde = "1.0"
serde_derive = "1.0"
serde_json = "1.0"
serde_yaml = "0.8"
threadpool = "1.7.1"
uuid = { version = "0.7", features = ["serde", "v4"] }
window = { path = "window" }
mimir = { path = "mimir" }
lru = "0.1.11"
tokio = "0.1"
url = "1.7"
log4rs = "0.8"
petgraph = "0.4.13"

crossbeam-channel = "0.3"
# blaster / blackhole
xz2 = {version = "0.1", optional = true}
hdrhistogram = {version = "6.0", optional = true}

# file
notify = { version = "4", optional = true}

# php
php = { version = "0.1", optional=true }

# mssql
tiberius = { git = "https://github.com/Licenser/tiberius", branch="fixes", default-features=false, features=["chrono"], optional = true }
futures-state-stream = {version = "0.1", optional=true}
tokio-current-thread = {version = "0.1.1", optional=true}

# kafka
rdkafka = {version = "0.17", optional = true}
rdkafka-sys = {version = "0.11.4-0", optional = true}
tokio-threadpool = {version = "0.1.7", optional=true}

#Google cloud stuff
google-storage1 = "1.0.8+20180905"
google-pubsub1 = "1.0.8+20181001"
hyper-rustls = "^0.6"
yup-oauth2 = "^1.0"
# This project intentionally uses an old version of Hyper. See
# https://github.com/Byron/google-apis-rs/issues/173 for more
# information.
hyper = "^0.10"


[dev-dependencies]
matches = "0.1.8"


[features]
default = ["mssql", "kafka"]
kafka = ["rdkafka", "rdkafka-sys", "tokio-threadpool"]
mssql = ["tiberius", "futures-state-stream", "tokio-current-thread"]
bench = ["xz2", "hdrhistogram"]
php-runtime = ["php"]
drop_copy = ["notify"]
