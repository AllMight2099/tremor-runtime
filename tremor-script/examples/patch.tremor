let aa := { "aa": 1, "bb": 2, "ee": "florp", "flork": { "snot": "badger"} };

let bb := "snot";

let aa := patch aa ->
  insert cc => patch {} -> insert fleek => "florp" end,
  update bb =>  3,
  upsert aa => 4,
  upsert dd => 5,
  erase aa,
  merge => { "fleek": "flork" },
  insert aa => "bar"
end;

drop patch merge aa -> { "foo": "bar" } end -> update foo => "badger" end;
drop merge patch {} -> erase `does-not-exist` end -> {} end;

# drop { "aa": aa, "bb": bb };
