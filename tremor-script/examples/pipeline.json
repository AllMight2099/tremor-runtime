{
  "binding": [
    {
      "id": "bench",
      "links": {
        "/onramp/blaster/{instance}/out": [
          "/pipeline/main/{instance}/in"
        ],
        "/pipeline/main/{instance}/out": [
          "/offramp/blackhole/{instance}/in"
        ]
      }
    }
  ],
  "offramp": [
    {
      "codec": "json",
      "config": {
        "significant_figures": 2,
        "stop_after_secs": 40,
        "warmup_secs": 10
      },
      "id": "blackhole",
      "type": "blackhole"
    }
  ],
  "onramp": [
    {
      "codec": "json",
      "config": {
        "source": "./demo/data/data.json.xz"
      },
      "id": "blaster",
      "type": "blaster"
    }
  ],
  "pipeline": [
    {
      "id": "main",
      "interface": {
        "inputs": [
          "in"
        ],
        "outputs": [
          "out"
        ]
      },
      "links": {
        "group": [
          "out"
        ],
        "in": [
          "runtime"
        ],
        "runtime": [
          "group"
        ]
      },
      "nodes": [
        {
          "config": {
            "script": "export class, dimension, rate, index_type;\n\n_ { $index_type := index; }\n\napplication=\"app1\" { $class := \"applog_app1\"; $rate := 1250;  $dimension := application; return; }\napplication=\"app2\" { $class := \"applog_app2\"; $rate := 2500;  $dimension := application; return; }\napplication=\"app3\" { $class := \"applog_app3\"; $rate := 18750; $dimension := application; return; }\napplication=\"app4\" { $class := \"applog_app4\"; $rate := 750;   $dimension := application; return;}\napplication=\"app5\" { $class := \"applog_app5\"; $rate := 18750; $dimension := application; return; }\n\nindex_type=\"applog_app6\" { $class := \"applog_app6\"; $rate := 4500; $dimension := logger_name; return; }\n\nindex_type=\"syslog_app1\" { $class := \"syslog_app1\"; $rate := 2500; $dimension := syslog_hostname; return; }\ntags:\"tag1\"              { $class := \"syslog_app2\"; $rate := 125;  $dimension := syslog_hostname; return; }\nindex_type=\"syslog_app3\" { $class := \"syslog_app3\"; $rate := 1750; $dimension := syslog_hostname; return; }\nindex_type=\"syslog_app4\" { $class := \"syslog_app4\"; $rate := 7500; $dimension := syslog_hostname; return; }\nindex_type=\"syslog_app5\" { $class := \"syslog_app5\"; $rate := 125;  $dimension := syslog_hostname; return; }\nindex_type=\"syslog_app6\" { $class := \"syslog_app6\"; $rate := 3750; $dimension := syslog_hostname; return; }\n\n_ { $class := \"default\"; $rate := 250; }\n"
          },
          "id": "runtime",
          "op": "runtime::tremor"
        },
        {
          "id": "group",
          "op": "grouper::bucket"
        }
      ]
    }
  ]
}
